%auto-ignore
%this ensures the arxiv doesn't try to start TeXing here.
%!TEX root =preproposal.tex

\usepackage{etex}
\usepackage{amsmath,amssymb,amsfonts,amsthm}
\usepackage{ifpdf}
\usepackage{leftidx}

\usepackage{etoolbox}
\usepackage{fullpage}
\usepackage{longtable}
\usepackage{pdflscape}
\usepackage{multicol}
\usepackage{enumerate}
\usepackage[all]{xy}
\input xy
\xyoption{all}

\usepackage{libertine}
\usepackage[T1]{fontenc}

\usepackage[backend=bibtex8,style=alphabetic,doi=false,isbn=false,url=false,minnames=6,maxnames=6]{biblatex}
\setcounter{biburlnumpenalty}{9000}
\setcounter{biburllcpenalty}{1000}
\setcounter{biburlucpenalty}{8000}
\renewbibmacro{in:}{%
  \ifentrytype{article}{}{\printtext{\bibstring{in}\intitlepunct}}}
\renewbibmacro*{volume+number+eid}{%
  \printtext{vol.}
  \printfield{volume}%
%  \setunit*{\adddot}% DELETED
  \setunit*{\addnbspace}% NEW (optional); there's also \addnbthinspace
  \printfield{number}%
  \setunit{\addcomma\space}%
  \printfield{eid}}
\DeclareFieldFormat[article]{number}{\mkbibparens{#1}}

\addbibresource{bibliography.bib}

\usepackage{xifthen}  % http://ctan.org/pkg/xifthen
\usepackage{breqn}
\usepackage{yfonts}
\usepackage{afterpage}

\usepackage{xcolor}
\definecolor{dark-red}{rgb}{0.7,0.25,0.25}
\definecolor{dark-blue}{rgb}{0.15,0.15,0.55}
\definecolor{medium-blue}{rgb}{0,0,0.65}
\definecolor{DarkGreen}{RGB}{0,150,0}


\ifpdf
\usepackage[pdftex,plainpages=false,hypertexnames=false,pdfpagelabels,breaklinks]{hyperref}
\else
\usepackage[dvips,plainpages=false,hypertexnames=false,breaklinks]{hyperref}
\fi
\hypersetup{
   colorlinks, linkcolor={purple},
   citecolor={medium-blue}, urlcolor={medium-blue}
}


% Page size %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setlength\topmargin{0in}
\setlength\headheight{0in}
\setlength\headsep{0in}
\setlength\textheight{9in}
\addtolength{\hoffset}{-0.25in}
\addtolength{\textwidth}{.5in}
\setlength\parindent{0.25in}

\usepackage{tikz}
\usetikzlibrary{calc}
\usetikzlibrary{shapes}
\usetikzlibrary{backgrounds}
\usetikzlibrary{decorations.pathreplacing}
\usepackage{tikz-qtree}

\tikzstyle{shaded}=[fill=red!10!blue!20!gray!30!white]
\tikzstyle{unshaded}=[fill=white]
\tikzstyle{empty box}=[circle, draw, thick, fill=white, opaque, inner sep=2mm]
\tikzstyle{annular}=[scale=.7, inner sep=1mm, baseline]
\tikzstyle{rectangular}=[scale=.75, inner sep=1mm, baseline=-.1cm]



\usepackage{tcolorbox}
\tcbuselibrary{breakable}
\tcbuselibrary{skins}





% ----------------------------------------------------------------
\vfuzz2pt % Don't report over-full v-boxes if over-edge is small
\hfuzz2pt % Don't report over-full h-boxes if over-edge is small
% ----------------------------------------------------------------

% diagrams -------------------------------------------------------
% figures ---------------------------------------------------------
%%% borrowed from Dror's cobordisms paper, use this to include eps or pdf graphics.
\newcommand{\pathtodiagrams}{diagrams/}

\newcommand{\mathfig}[2]{{\hspace{-3pt}\begin{array}{c}%
  \raisebox{-2.5pt}{\includegraphics[width=#1\textwidth]{\pathtodiagrams #2}}%
\end{array}\hspace{-3pt}}}

\newcommand{\inputtikz}[1]{\input{diagrams/tikz/#1.tex}}

\newcommand{\arxiv}[1]{\href{https://arxiv.org/abs/#1}{\small  arXiv:#1}}
\newcommand{\arXiv}[1]{\href{https://arxiv.org/abs/#1}{\small  arXiv:#1}}
\newcommand{\doi}[1]{\href{https://dx.doi.org/#1}{{\small DOI:#1}}}
\newcommand{\euclid}[1]{\href{https://projecteuclid.org/getRecord?id=#1}{{\small  #1}}}
\newcommand{\mathscinet}[1]{\href{https://www.ams.org/mathscinet-getitem?mr=#1}{\small  #1}}
\newcommand{\googlebooks}[1]{(preview at \href{https://books.google.com/books?id=#1}{google books})}
\newcommand{\notfree}{}
\newcommand{\numdam}[1]{}

% THEOREMS -------------------------------------------------------
\theoremstyle{plain}
%\newtheorem*{fact}{Fact}
\newtheorem{prop}{Proposition}[section]
\newtheorem{conj}[prop]{Conjecture}
\newtheorem{thm}[prop]{Theorem}
\newtheorem{thmalpha}{Theorem}
\renewcommand*{\thethmalpha}{\Alph{thmalpha}}
\newtheorem{recipe}[prop]{Recipe}
\newtheorem{lem}[prop]{Lemma}
\newtheorem{cor}[prop]{Corollary}
\newtheorem{fact}[prop]{Fact}
\newtheorem{facts}[prop]{Facts}
\newtheorem*{cor*}{Corollary}
\newtheorem*{thm*}{Theorem}
%\newtheorem*{example}{Example}
\newtheorem{question}{Question}
\newenvironment{rem}{\\ \noindent\textsl{Remark.}}{}  % perhaps looks better than rem above?
\numberwithin{equation}{section}
%\numberwithin{figure}{section}

\theoremstyle{remark}
\newtheorem{example}[prop]{Example}
\newtheorem*{exc}{Exercise}
\newtheorem{remark}[prop]{Remark}           
\newtheorem*{rem*}{Remark}               %unnumbered remark
\newtheorem*{example*}{Example}                %unnumbered exercise

\theoremstyle{definition}
\newtheorem{defn}[prop]{Definition}         % numbered definition
\newtheorem{assumption}[prop]{Assumption}   
\newtheorem{nota}[prop]{Notation}   
\newtheorem*{defn*}{Definition}             % unnumbered definition

% \usepackage{parskip}
% Modifies the spacing above theorem environments, which is messed up when using the parskip package.
% (http://tex.stackexchange.com/questions/22119)
% \makeatletter \def\thm@space@setup{\thm@preskip=\parskip \thm@postskip=0pt} \makeatother

\newenvironment{mycolorbox}[1][]%
  {\if\detokenize{#1}\relax\relax%
      \begin{tcolorbox}%
    \else%
      \begin{tcolorbox}[#1]%
    \fi%
  \vspace{-3mm}%
  \parskip=0.5\baselineskip \advance\parskip by 0pt plus 2pt%
  \parindent=0pt%
}
  {\end{tcolorbox}}

\makeatletter
\@ifpackagelater{tcolorbox}{2015/01/01}%
  {%
    \newenvironment{boxedexample}{\begin{mycolorbox}[breakable,notitle,boxrule=1pt,colback=blue!5,colframe=blue!20,enhanced jigsaw]}{\end{mycolorbox}}
  }
  {%
    \newenvironment{boxedexample}{\begin{mycolorbox}[breakable,notitle,boxrule=1pt,colback=blue!5,colframe=blue!20]}{\end{mycolorbox}}
  }%
\makeatother
\newenvironment{boxedexample*}{\begin{mycolorbox}[notitle,boxrule=1pt,colback=blue!5,colframe=blue!20]}{\end{mycolorbox}}

%\usepackage{stmaryd}
\newcommand{\llbracket}{[\![}
\newcommand{\rrbracket}{]\!]}
\newcommand{\truth}[1]{\llbracket #1 \rrbracket}

\theoremstyle{plain}
\newcommand{\noqed}{\renewcommand{\qedsymbol}{}}

% Marginal notes in draft mode -----------------------------------
\newcommand{\scott}[1]{\stepcounter{comment}{{\color{green} $\star^{(\arabic{comment})}$}}\marginpar{\color{green}  $\star^{(\arabic{comment})}$ \usefont{T1}{scott}{m}{n}  #1 --S}}     % draft mode
\newcounter{comment}
\newcommand{\noop}[1]{}
\newcommand{\todo}[1]{\textcolor{blue}{\textbf{TODO: #1}}}
\newcommand{\nn}[1]{\textcolor{red}{[[#1]]}}

% \mathrlap -- a horizontal \smash--------------------------------
% For comparison, the existing overlap macros:
% \def\llap#1{\hbox to 0pt{\hss#1}}
% \def\rlap#1{\hbox to 0pt{#1\hss}}
\def\clap#1{\hbox to 0pt{\hss#1\hss}}
\def\mathllap{\mathpalette\mathllapinternal}
\def\mathrlap{\mathpalette\mathrlapinternal}
\def\mathclap{\mathpalette\mathclapinternal}
\def\mathllapinternal#1#2{%
\llap{$\mathsurround=0pt#1{#2}$}}
\def\mathrlapinternal#1#2{%
\rlap{$\mathsurround=0pt#1{#2}$}}
\def\mathclapinternal#1#2{%
\clap{$\mathsurround=0pt#1{#2}$}}

% MATH -----------------------------------------------------------
\newcommand{\Natural}{\mathbb N}
\newcommand{\Integer}{\mathbb Z}
\newcommand{\Rational}{\mathbb Q}
\newcommand{\Real}{\mathbb R}
\newcommand{\Complex}{\mathbb C}
\newcommand{\Field}{\mathbb F}

% tricky way to iterate macros over a list
\def\semicolon{;}
\def\applytolist#1{
    \expandafter\def\csname multi#1\endcsname##1{
        \def\multiack{##1}\ifx\multiack\semicolon
            \def\next{\relax}
        \else
            \csname #1\endcsname{##1}
            \def\next{\csname multi#1\endcsname}
        \fi
        \next}
    \csname multi#1\endcsname}

% \def\cA{{\cal A}} for A..Z
\def\calc#1{\expandafter\def\csname c#1\endcsname{{\mathcal #1}}}
\applytolist{calc}QWERTYUIOPLKJHGFDSAZXCVBNM;
% \def\bbA{{\mathbb A}} for A..Z
\def\bbc#1{\expandafter\def\csname bb#1\endcsname{{\mathbb #1}}}
\applytolist{bbc}QWERTYUIOPLKJHGFDSAZXCVBNM;
% \def\bfA{{\mathbf A}} for A..Z
\def\bfc#1{\expandafter\def\csname bf#1\endcsname{{\mathbf #1}}}
\applytolist{bfc}QWERTYUIOPLKJHGFDSAZXCVBNM;


\DeclareMathOperator{\depth}{depth}
\DeclareMathOperator{\nbhd}{nbhd}
\DeclareMathOperator{\Span}{span}
\DeclareMathOperator{\Tr}{Tr}
\DeclareMathOperator{\sh}{sh}
\DeclareMathOperator{\un}{un}
\DeclareMathOperator{\FPdim}{FPdim}
\DeclareMathOperator{\coeff}{coeff}

\newcommand{\set}[2]{\left\{#1\middle|#2\right\}}
\newcommand{\jw}[1]{f^{(#1)}}
\newcommand{\twoone}{{\rm II}$_1$}

\newcommand{\id}{\boldsymbol{1}}
\renewcommand{\imath}{\mathfrak{i}}
\renewcommand{\jmath}{\mathfrak{j}}

\newcommand{\qRing}{\Integer[q,q^{-1}]}
\newcommand{\qMod}{\qRing-\operatorname{Mod}}
\newcommand{\ZMod}{\Integer-\operatorname{Mod}}

\newcommand{\into}{\hookrightarrow}
\newcommand{\onto}{\mapsto}
\newcommand{\iso}{\cong}
\newcommand{\actsOn}{\circlearrowright}
\newcommand{\isoto}{\overset{\iso}{\to}}

\newcommand{\htpy}{\simeq}

\newcommand{\abs}[1]{\left|#1\right|}
\newcommand{\norm}[1]{\left|\left|#1\right|\right|}
\newcommand{\ip}[1]{\left< #1\right>}

\newcommand{\relations}[2]{\left<#1 \;\left| \; #2 \right. \right>}
\newcommand{\pairing}[2]{\left\langle#1 ,#2 \right\rangle}

\newcommand{\code}[1]{{\tt #1}}
\newcommand{\MMA}{\code{Mathematica} {}}

\makeatletter
\newcommand{\hashdef}[2]{\@namedef{#1}{#2}}
\newcommand{\hashlookup}[1]{\@nameuse{#1}}
\makeatother


\newcommand{\card}[1]{\sharp{#1}}

\newcommand{\bdy}{\partial}
\newcommand{\compose}{\circ}
\newcommand{\eset}{\emptyset}
\newcommand{\disj}{\sqcup}

\newcommand{\psmallmatrix}[1]{\left(\begin{smallmatrix} #1 \end{smallmatrix}\right)}

\newcommand{\directSum}{\oplus}
\newcommand{\DirectSum}{\bigoplus}
\newcommand{\tensor}{\otimes}
\newcommand{\Tensor}{\bigotimes}

\newcommand{\db}[1]{\left(\left(#1\right)\right)}

\newcommand{\su}[1]{\mathfrak{su}_{#1}}
\newcommand{\csl}[1]{\mathfrak{sl}_{#1}}
\newcommand{\uqsl}[1]{U_q\left(\csl{#1}\right)}


\newcommand{\Mat}[1]{\operatorname{\mathbf{Mat}}\left(#1\right)}
\newcommand{\Inv}[1]{\operatorname{Inv}\left(#1\right)}
\DeclareMathOperator{\Hom}{Hom}
%\newcommand{\Hom}[3]{\operatorname{Hom_{#1}}\!\!\left(#2 \to #3\right)}
\newcommand{\End}[1]{\operatorname{End}\left(#1\right)}
\newcommand{\im}{\operatorname{im}}
\newcommand{\Aut}{\operatorname{Aut}}
\newcommand{\Irr}{\operatorname{Irr}}
\newcommand{\Gal}{\operatorname{Gal}}

\newcommand{\lk}[2]{\operatorname{lk}\left(#1,#2\right)}
\newcommand{\fr}[1]{\operatorname{fr}\left(#1\right)}

\newcommand{\asbimod}[2]{\operatorname{Mod}'\left(#1 \subset #2\right)}
\newcommand{\sbimod}[2]{\operatorname{Mod}\left(#1 \subset #2\right)}
\newcommand{\abimod}[2]{#1-\operatorname{Mod}'-#2}
\newcommand{\bimod}[2]{#1-\operatorname{Mod}-#2}
\newcommand{\bimodule}[3]{\leftidx{_#1}{#2}{_#3}}

\newcommand{\pa}{\mathcal{PA}}
\newcommand{\TL}{\mathcal{TL}}
\newcommand{\JW}[1]{f^{(#1)}}
\newcommand{\tr}[1]{\text{tr}(#1)}
\newcommand{\dn}[1]{{\mathcal D}{\mathit (#1)}}
\newcommand{\Rep}{{\sf Rep}}
\newcommand{\gA}{{\textgoth{A}}}

\newcommand{\directSumStack}[2]{{\begin{matrix}#1 \\ \DirectSum \\#2\end{matrix}}}
\newcommand{\directSumStackThree}[3]{{\begin{matrix}#1 \\ \DirectSum \\#2 \\ \DirectSum \\#3\end{matrix}}}

\newcommand{\grading}[1]{{\color{blue}\{#1\}}}
\newcommand{\shift}[1]{\left[#1\right]}

\newcommand{\tensorover}[1]{\otimes_{#1}}
\newcommand{\tensorhat}{\widehat{\Tensor}}

\newcommand{\LL}{\mathcal{L}}
\newcommand{\Lhat}{\hat{\mathcal{L}}}
\newcommand{\writhe}{\operatorname{writhe}}

\newenvironment{narrow}[2]{%
\vspace{-0.4cm}% horrible hack, by scott % this only seems to be appropriate in beamer mode...
\begin{list}{}{%
\setlength{\topsep}{0pt}%
\setlength{\leftmargin}{#1}%
\setlength{\rightmargin}{#2}%
\setlength{\listparindent}{\parindent}%
\setlength{\itemindent}{\parindent}%
\setlength{\parsep}{\parskip}}%
\item[]}{\end{list}}

\makeatletter

%% this adds some diagnostic messages in the log file, helpful for tracking down permanent 'labels may have changed' warnings.
\def\@testdef #1#2#3{%
  \def\reserved@a{#3}\expandafter \ifx \csname #1@#2\endcsname
 \reserved@a  \else
\typeout{^^Jlabel #2 changed:^^J%
\meaning\reserved@a^^J%
\expandafter\meaning\csname #1@#2\endcsname^^J}%
\@tempswatrue \fi}


%%%Tikz macro

\newcommand{\roundNbox}[6]{
	\draw[rounded corners=5pt, very thick, #1] ($#2+(-#3,-#3)+(-#4,0)$) rectangle ($#2+(#3,#3)+(#5,0)$);
	\coordinate (ZZa) at ($#2+(-#4,0)$);
	\coordinate (ZZb) at ($#2+(#5,0)$);
	\node at ($1/2*(ZZa)+1/2*(ZZb)$) {#6};
}

\newcommand{\ncircle}[5]{
	\draw[thick, #1] #2 circle (#3);
	\node at #2 {#5};
	\filldraw[red] ($#2+(#4:#3cm)$) circle (.05cm);
%	\node at ($#2+(#4:.15cm)+(#4:#3cm)$) {$\star$};
}

\usetikzlibrary{decorations.pathmorphing}

\pgfdeclaredecoration{complete sines}{initial}
{
    \state{initial}[
        width=+0pt,
        next state=sine,
        persistent precomputation={\pgfmathsetmacro\matchinglength{
            \pgfdecoratedinputsegmentlength / int(\pgfdecoratedinputsegmentlength/\pgfdecorationsegmentlength)}
            \setlength{\pgfdecorationsegmentlength}{\matchinglength pt}
        }] {}
    \state{sine}[width=\pgfdecorationsegmentlength]{
        \pgfpathsine{\pgfpoint{0.25\pgfdecorationsegmentlength}{0.5\pgfdecorationsegmentamplitude}}
        \pgfpathcosine{\pgfpoint{0.25\pgfdecorationsegmentlength}{-0.5\pgfdecorationsegmentamplitude}}
        \pgfpathsine{\pgfpoint{0.25\pgfdecorationsegmentlength}{-0.5\pgfdecorationsegmentamplitude}}
        \pgfpathcosine{\pgfpoint{0.25\pgfdecorationsegmentlength}{0.5\pgfdecorationsegmentamplitude}}
}
    \state{final}{}
}